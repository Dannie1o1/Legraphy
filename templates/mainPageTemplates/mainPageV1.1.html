{%extends "baseTemplateV1.1.html" %}
{% block bodyContent %}
    <div id="graphContainer">
        <!-- Right SideBar -->
        <div id="wrapperRightSidebar">
            <div id="sidebar-wrapperRightSidebar">
                <ul class="sidebar-nav">
                    <li class="sidebar-brand">
                        <a href="#">
                            Details Tab
                        </a>
                    </li>
                    <li>
                        <a href="#">Link 1</a>
                    </li>
                    <li>
                        <a href="#">Link 2</a>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Left SideBar Section -->
        <div class="wrapper" id="screen">
            <!-- Sidebar -->
            <nav id="sidebar">
                <div class="sidebar-header">
                    <h2>Legraphy</h2>
                    <p>A Runtime Visualizer for Legacy Apps</p>
                </div>
        
                <ul class="list-unstyled components">
                    <h4>Main Menu</h4>
                    <li>
                        <a data-toggle="modal" data-target="#uploadModal" href="#uploadModal" >Upload Data</a>
                    </li>
                    <li class="active">
                        <a href="#layoutSubmenu" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">Layouts</a>
                        <ul class="collapse list-unstyled" id="layoutSubmenu">
                            <li>
                                <a href="#">Call Graph</a>
                            </li>
                            <li>
                                <a href="#">Causal Graph</a>
                            </li>
                            <li>
                                <a href="#">Clusters</a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="#storageSubmenu" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">Storage</a>
                        <ul class="collapse list-unstyled" id="storageSubmenu">
                            <li>
                                <a href="#">Load</a>
                            </li>
                            <li>
                                <a href="#">Download</a>
                            </li>
                            <li>
                                <a href="#">Options</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                    <li>
                        <a href="#">About</a>
                    </li>
                </ul>
            </nav>
                <!-- SideBar Toggle Btn -->
            <div id="content" style="padding-left:240px;position:fixed">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light" >
                        <div class="container-fluid" >
                            <div class="row">
                                <script src="//d3js.org/d3.v3.min.js"></script>
                                <!-- <script src="{{url_for('static', filename='sampleGraph/renderGraph.js')}}"></script> -->
                                <script src="{{url_for('static', filename='sampleGraph/renderGraph2.js')}}"></script>
                                <button type="button" id="sidebarCollapse" class="btn btn-info">
                                        <i class="fas fa-align-left"></i>
                                        <span>Toggle L.Sidebar</span>
                                </button>
                                <a href class="btn btn-primary" data-toggle="sidebar">Toggle R.Sidebar</a>
                            </div>
                        </div>
                    </nav>
                </div>
        </div>

        <!-- Bot Nav Bar -->
        <div class="container fixed-bottom">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="botbar">
            <a class="navbar-brand" href="#">Navbar</a>
            <ul class="nav justify-content-center">
                <li class="nav-item">
                <a class="nav-link active" href="#!">Active</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="#!">Link</a>
                </li>
                <li class="nav-item">
                <a class="nav-link" href="#!">Link</a>
                </li>
            </ul>
            </nav>
        </div>
    </div>

    <!-- Modals -->
    
    <!-- Upload Modal -->
    <div class="modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="uploadModalLabel">Upload Runtime Data</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form id="uploadForm" action = "{{url_for('upload')}}" method = "POST" enctype = "multipart/form-data">
                    <!-- <input type = "file" name = "file" /> -->
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="btn btn-info">
                                Browse <input id="uploadFile" name="file" type="file" style="display: none;" accept=".csv,.json"/>
                            </label>
                        </div>
                        <input id="uploadFilenameTF" style="height:fit-content;" type="text" class="form-control" placeholder="No File Selected" aria-label="" aria-describedby="basic-addon1" readonly/>
                    </div>
                </form>

                <div class="progress" id="progressBarDiv" style="display: none" >
                    <div id="progressBar" class="progress-bar" role="progressbar" aria-valuenow="0" ariavaluein="0" aria-valuemax="100" style="width: 0%;">
                        0%
                    </div>
                </div>
            </div>
            <div class="modal-footer">
              <button id="uploadModalCloseBtn" type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
              <button id="uploadSubmitBtn" type="submit" class="btn btn-primary" form="uploadForm" style="display:block">Upload</button>
              <!-- <input type = "submit" form="uploadForm" value="Upload"/> -->
            </div>
          </div>
        </div>
    </div>
    <!-- Upload Modal End -->

    <!-- Modal End -->
{% endblock %}